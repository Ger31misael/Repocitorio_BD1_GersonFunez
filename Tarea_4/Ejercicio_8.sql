CREATE DATABASE Ejercicio_8;
USE Ejercicio_8;

CREATE TABLE ARBITRO(
    Pasaporte_Arbitro VARCHAR (50) PRIMARY KEY NOT NULL,
    Nacionalidad VARCHAR (50) NOT NULL,
    Año_Inicio_Actividad DATE NOT NULL,
    Num_Partidos_Arbitrados INT
);

INSERT INTO ARBITRO VALUES('1234-5678-9001','HONDUREÑA','10-08-1997',50);
INSERT INTO ARBITRO VALUES('4321-5678-9001','CANADA','10-08-1980',69);
SELECT * FROM ARBITRO;

CREATE TABLE ESTADIO(
    Nom_Estadio VARCHAR (50) PRIMARY KEY NOT NULL,
    Ciudad VARCHAR (50) NOT NULL,
    Capacidad_Max INT NOT NULL
);

INSERT INTO ESTADIO VALUES('TIBURCIO CARIAS ANDINO','TEGUCIGALPA',30000);
INSERT INTO ESTADIO VALUES('MORAZAN','SAN PEDRO SULA',35000);
SELECT * FROM ESTADIO;

CREATE TABLE PARTIDO(
    ID_Partido INT PRIMARY KEY IDENTITY(1,1),
    Fecha DATE NOT NULL,
    Hora TIME NOT NULL,
    Duracion VARCHAR(25) NOT NULL,
    Instancia VARCHAR (100) NOT NULL,
    Pasaporte_Arbitro VARCHAR (50) FOREIGN KEY REFERENCES ARBITRO(Pasaporte_Arbitro),
    Nom_Estadio VARCHAR (50) FOREIGN KEY REFERENCES ESTADIO(Nom_Estadio)
);

INSERT INTO PARTIDO VALUES('10-03-2022','2:00PM','90 MIN','PRE-TEMPORADA','1234-5678-9001','MORAZAN');
INSERT INTO PARTIDO VALUES('10-03-2022','7:00PM','90 MIN','PRE-TEMPORADA','4321-5678-9001','TIBURCIO CARIAS ANDINO');
SELECT * FROM PARTIDO;

CREATE TABLE EQUIPOS(
    Nom_Seleccion VARCHAR (100) PRIMARY KEY NOT NULL,
    Nom_DT VARCHAR (100) NOT NULL,
    Lugar_Entrenamiento VARCHAR(100) NOT NULL,
    Miembros_Equipo_Tecnico VARCHAR(500) NOT NULL,
    ID_Partido INT FOREIGN KEY REFERENCES PARTIDO(ID_Partido)  
);

INSERT INTO EQUIPOS VALUES('HONDURAS','JUAN PANCHO','ESTADIO NACIONAL','ALFONZO, TIMON, PUMBA',1);
INSERT INTO EQUIPOS VALUES('MEXICO','PEDRO LOPEZ','VILLA OLIMPICA','RICK, MORTY, ARNOLD',2);
SELECT * FROM EQUIPOS;

CREATE TABLE JUGADOR(
    Num_Camiceta INT PRIMARY KEY NOT NULL,
    Nombre_Apellido VARCHAR (100) NOT NULL,
    Posicion VARCHAR (100) NOT NULL,
    Apodo VARCHAR (100),
    Nom_Seleccion VARCHAR(100) FOREIGN KEY REFERENCES EQUIPOS(Nom_Seleccion) 
);

INSERT INTO JUGADOR VALUES(30,'JUAN CARLOS','DELANTERO','LA PIEDRA','HONDURAS');
INSERT INTO JUGADOR VALUES(28,'PEDRO PICAPIEDRAS','PORTERO','EL AGUJEROS','MEXICO');
INSERT INTO JUGADOR VALUES(31,'LUCAS','PORTERO',NULL,'MEXICO');
INSERT INTO JUGADOR VALUES(11,'CARLOS BLANCO','DELANTERO','EL LENTO','HONDURAS');
SELECT * FROM JUGADOR;

CREATE TABLE AFICIONADO(
    Num_Ticket INT PRIMARY KEY NOT NULL,
    Vestimenta VARCHAR (100)NOT NULL,
    Ubicacion VARCHAR (100) NOT NULL,
    Num_Asiento INT NOT NULL,
    Fila INT NOT NULL,
    Zona VARCHAR (100 )NOT NULL
);
DROP TABLE AFICIONADO;

INSERT INTO AFICIONADO VALUES(1234,'CAMICETA SELLECION DE HONDURAS','SOL',30,3,'GRADAS');
INSERT INTO AFICIONADO VALUES(2812,'CAMICETA SELLECION DE MEXICO','SOMBRA',5,1,'PALCO');
SELECT * FROM AFICIONADO;


CREATE TABLE ASISTE(
    Num_Ticket INT FOREIGN KEY REFERENCES AFICIONADO(Num_Ticket),
    Nom_Estadio VARCHAR (50) FOREIGN KEY REFERENCES ESTADIO(Nom_Estadio)
);

INSERT INTO ASISTE VALUES(1234,'MORAZAN');
INSERT INTO ASISTE VALUES(2812,'MORAZAN');
SELECT * FROM ASISTE;