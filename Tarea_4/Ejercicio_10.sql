CREATE DATABASE EJERCICIO_10;
USE EJERCICIO_10; 


CREATE TABLE CLIENTE(
    DNI VARCHAR (30) PRIMARY KEY NOT NULL,
    Nombre VARCHAR(50) NOT NULL,
    Email VARCHAR(50) NOT NULL,
    Telefono VARCHAR(30) NOT NULL,
    Area VARCHAR(30) NOT NULL,
    Numero VARCHAR(30) NOT NULL 
);
DROP TABLE CLIENTE;

INSERT INTO CLIENTE VALUES('0808198823945','Pedro Pablo','PEDRO31@GMAIL.COM','2260-2514','+504','3232-5465');
INSERT INTO CLIENTE VALUES('0606199701846','Juan Carlos','JUAN76@GMAIL.COM','2260-4223','+504','9727-2121');
SELECT * FROM CLIENTE;

CREATE TABLE CUPON(
    Numero_Cupon INT PRIMARY KEY IDENTITY(1,1),
    Fecha DATE NOT NULL,
    Importe MONEY NOT NULL,
    Hora_Valido TIME
);

INSERT INTO CUPON VALUES('14-03-2022','$100.00','07:00AM');
INSERT INTO CUPON VALUES('22-03-2022','$50.00','07:00AM');
SELECT * FROM CUPON;


CREATE TABLE COMPRA(
    Fecha DATE PRIMARY KEY NOT NULL,
    Hora TIME NOT NULL,
    Fecha_Pago DATE NOT NULL,
    Numero_Cupon INT FOREIGN KEY REFERENCES CUPON(Numero_Cupon),
    DNI VARCHAR (30) FOREIGN KEY REFERENCES CLIENTE(DNI)
);

INSERT INTO COMPRA VALUES('15-03-2022','08:00AM','15-03-2022',2,'0808198823945');
INSERT INTO COMPRA VALUES('24-03-2022','08:00PM','26-03-2022',4,'0606199701846');
SELECT * FROM COMPRA;

CREATE TABLE PRODUCTO (
    Codigo_Producto VARCHAR (30) PRIMARY KEY NOT NULL,
    Precio_Venta MONEY NOT NULL,
    Dimenciones VARCHAR (100),
    Numero_Cupon INT FOREIGN KEY REFERENCES CUPON(Numero_Cupon)
);

INSERT INTO PRODUCTO VALUES('1111111','20','2X3X2',2);
INSERT INTO PRODUCTO VALUES('1212121','45','2X4X10',2);
SELECT * FROM PRODUCTO;

CREATE TABLE PROVEEDOR(
    Codigo_Proveedor VARCHAR (25) PRIMARY KEY NOT NULL,
    Telefono VARCHAR (25) NOT NULL,
    Razon_Social VARCHAR(50) NOT NULL
);
DROP TABLE PREVEEDOR;

INSERT INTO PROVEEDOR VALUES('1234567','9718-0321','VENDEDOR');
INSERT INTO PROVEEDOR VALUES('4443434','9981-1533','VENDEDOR');
SELECT * FROM PROVEEDOR;

CREATE TABLE OFRECE(
    Codigo VARCHAR (30) PRIMARY KEY NOT NULL,
    Codigo_Producto VARCHAR(30) FOREIGN KEY REFERENCES PRODUCTO(Codigo_Producto),
    Codigo_Proveedor VARCHAR(25) FOREIGN KEY REFERENCES PROVEEDOR(Codigo_Proveedor)
);

INSERT INTO OFRECE VALUES('101010','1111111','1234567');
INSERT INTO OFRECE VALUES('101011','1212121','4443434');
SELECT * FROM OFRECE;